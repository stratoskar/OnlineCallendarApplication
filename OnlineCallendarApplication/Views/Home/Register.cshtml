<!-- This is the page where a user can register to the online callendar -->
<!-- source for the html and css code: https://www.geeksforgeeks.org/html-responsive-modal-login-form/ -->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Online Callendar: Register</title>
        <link rel="stylesheet" href="~/styles.css">
        <style>
            form {
                border: 3px solid whitesmoke;
                background-color: white;
            }

            *
            {
                font-family:candara;
            }

            p
            {
                color:white;
                font-size:18px;
                margin: 4px 0;
                width: auto;
            }

            body
            {
                background-color: seagreen;
            }

            input[type=text],
            input[type=password]
            {
                width: 100%;
                padding: 12px 20px;
                margin: 8px 0;
                display: inline-block;
                box-sizing: border-box;
                border:1px solid mediumseagreen;
            }

            /* set style for the cancel button */
            .cancelbtn
            {
                width: auto;
                padding: 10px 18px;
                background-color: #f44336;
            }

            .imgcontainer
            {
                text-align: center;
                margin: 24px 0 12px 0;
            }

            img.avatar
            {
                width: 16%;
                border-radius: 70%;
            }

            /* set padding to the container class */
            .container
            {
                padding: 16px;
            }

            /* set the forgot password text */
            span.psw
            {
                float: right;
                padding-top: 16px;
                color: #012A6C
            }

            /* style rules when hyperlinks are pressed */
            a:visited
            {
                color: #012A6C;
            }

            a
            {
                font-size:16px;
                color: #012A6C;
            }

            /* style rules for the error message box */
            #error_message
            {
                background: #fe8b8e;
                text-align: center;
                font-size: 16px;
                transition: all 0.5s ease;
                width: 97%;
                margin: 8px 0;
                display: inline-block;
                box-sizing: border-box;
                color: white;
                font-weight: bold;
                padding: 0px;
            }
        </style>
    </head>
    <body>
        <form action="https://localhost:44394/Home/RegisterInsertion" method="post" name="signup" onsubmit="return validation()">
            <div class="imgcontainer">
                <img src="~/images/callendar.png" alt="logo_image" class="avatar">
            </div>
            <center><div id="error_message"></div></center>
            <div class="container">
                <label><b style="color:#012A6C">Hello user, create your account:</b></label>
            </div>
            <div class="container">
                <label><b style="color:#012A6C">Full name: *</b></label>
                <input type="text" id="fullname" placeholder="Enter your fullname" name="fullname" required>

                <label><b style="color:#012A6C">Username: *</b></label>
                <input type="text" id="username" placeholder="Enter your username" name="username" required>

                <label><b style="color:#012A6C">Password: *</b></label>
                <input type="password" id="password" placeholder="Enter your password" name="password" required>
            </div>
            <div class="container" style="background-color:#f1f1f1">
                <button type="submit">Register</button>
                <button type="reset" class="cancelbtn">Reset</button>
                <span class="psw">Already have an account? <a href="https://localhost:44394/Home/Login">login</a></span>
            </div>
        </form>
        <br>
        <script>
                // this function is used for form's validation on client's side
                function validation()
                {
                    // get the values of inputs that user gave in the form
                    var fullname = document.getElementById("fullname").value;
                    var username = document.getElementById("username").value;
                    var password = document.getElementById("password").value;
                

                    var text; // set a new variable

                    // use a new variable for storing the errors during validation
                    error_message.style.padding = "10px";

                    // validation check begins

                    // check first name
                    if (!/^[A-Z][a-z]+$/.test(fullname))
                    {
                        text = "First name includes at least two letters and should begin with a capital letter!";
                        error_message.innerHTML = text;
                        return false;
                    }
                
                    // check username
                    if (!/\S/.test(username))
                    {
                        text = "Username should not consist of only space characters!";
                        error_message.innerHTML = text;
                        return false;
                    }

                    // check password
                    if (password.length < 4)
                    {
                        text = "Password consists of at least 4 characters!";
                        error_message.innerHTML = text;
                        return false;
                    }

                    return true; // everything is fine, no errors occurred
                }
        </script>
    </body>
</html>